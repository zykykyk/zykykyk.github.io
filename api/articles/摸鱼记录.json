{"title":"摸鱼记录","slug":"摸鱼记录","date":"2019-04-16T04:56:15.000Z","updated":"2019-04-19T11:36:08.566Z","comments":true,"excerpt":"<p>写个做题记录，记录下自己的颓废文化课生活勉励自己（大雾，顺便记下一些题的题解。</p>","content":"<p>写个做题记录，记录下自己的颓废文化课生活勉励自己（大雾，顺便记下一些题的题解。</p>\n<a id=\"more\"></a>\n<h4 id=\"4-16\"><a href=\"#4-16\" class=\"headerlink\" title=\"4.16\"></a>4.16</h4><p><a href=\"https://codeforces.com/contest/1142/problem/E\" target=\"_blank\" rel=\"noopener\">Codeforces 1142E</a></p>\n<p>小清新图论交互题，我果然还是喜欢做交互题啊。</p>\n<p>tarjan打错调了1h真是令人窒息，我果然码力大不如前啊。</p>\n<p>WA on 37现场就fst了...我果然想问题还是不够全面啊。</p>\n<p>口胡做法：先对给出的图缩点，然后对缩点后的DAG搞。</p>\n<p>大概手玩几分钟，不难发现一种可行的方案。</p>\n<p>先把所有入度为0的点加入一个队列，再随便钦定一个入度为0的点为答案，那么不难发现钦定的点只有可能无法通过已知的边到达此时队列中其它点以及其它点的后继(废话)，那么我们就按拓扑序遍历这个图，如果说当前答案到当前点的边是从答案出去的，那么答案不变，否则当前点肯定可以先到达当前答案，再到达当前答案通过询问的边到达的点，那么我们考虑把答案替换成当前点，并把之前的答案加入队列。</p>\n<p>复杂度当然是O(n)的，注意两个scc之间的边的方向的判断(就这个东西我又调了1h)。</p>\n<h4 id=\"4-17\"><a href=\"#4-17\" class=\"headerlink\" title=\"4.17\"></a>4.17</h4><p><a href=\"https://loj.ac/problem/3043\" target=\"_blank\" rel=\"noopener\">#3043. 「ZJOI2019」线段树</a></p>\n<p>省选做了3h T3，活该滚粗。</p>\n<p>设<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>f</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">f_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.69444em;\"></span><span class=\"strut bottom\" style=\"height:0.8888799999999999em;vertical-align:-0.19444em;\"></span><span class=\"base textstyle uncramped\"><span class=\"mord\"><span class=\"mord mathit\" style=\"margin-right:0.10764em;\">f</span><span class=\"vlist\"><span style=\"top:0.15em;margin-right:0.05em;margin-left:-0.10764em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"reset-textstyle scriptstyle cramped\"><span class=\"mord mathit\">i</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span></span></span></span> 为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.65952em;\"></span><span class=\"strut bottom\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"base textstyle uncramped\"><span class=\"mord mathit\">i</span></span></span></span>号节点<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>t</mi><mi>a</mi><mi>g</mi></mrow><annotation encoding=\"application/x-tex\">tag</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.61508em;\"></span><span class=\"strut bottom\" style=\"height:0.80952em;vertical-align:-0.19444em;\"></span><span class=\"base textstyle uncramped\"><span class=\"mord mathit\">t</span><span class=\"mord mathit\">a</span><span class=\"mord mathit\" style=\"margin-right:0.03588em;\">g</span></span></span></span>为1的概率，<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><msub><mi>g</mi><mi>i</mi></msub></mrow><annotation encoding=\"application/x-tex\">g_i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.43056em;\"></span><span class=\"strut bottom\" style=\"height:0.625em;vertical-align:-0.19444em;\"></span><span class=\"base textstyle uncramped\"><span class=\"mord\"><span class=\"mord mathit\" style=\"margin-right:0.03588em;\">g</span><span class=\"vlist\"><span style=\"top:0.15em;margin-right:0.05em;margin-left:-0.03588em;\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span><span class=\"reset-textstyle scriptstyle cramped\"><span class=\"mord mathit\">i</span></span></span><span class=\"baseline-fix\"><span class=\"fontsize-ensurer reset-size5 size5\"><span style=\"font-size:0em;\">​</span></span>​</span></span></span></span></span></span>为<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>i</mi></mrow><annotation encoding=\"application/x-tex\">i</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.65952em;\"></span><span class=\"strut bottom\" style=\"height:0.65952em;vertical-align:0em;\"></span><span class=\"base textstyle uncramped\"><span class=\"mord mathit\">i</span></span></span></span>到<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>r</mi><mi>o</mi><mi>o</mi><mi>t</mi></mrow><annotation encoding=\"application/x-tex\">root</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.61508em;\"></span><span class=\"strut bottom\" style=\"height:0.61508em;vertical-align:0em;\"></span><span class=\"base textstyle uncramped\"><span class=\"mord mathit\" style=\"margin-right:0.02778em;\">r</span><span class=\"mord mathit\">o</span><span class=\"mord mathit\">o</span><span class=\"mord mathit\">t</span></span></span></span>的路径上存在一个<span class=\"katex\"><span class=\"katex-mathml\"><math><semantics><mrow><mi>t</mi><mi>a</mi><mi>g</mi></mrow><annotation encoding=\"application/x-tex\">tag</annotation></semantics></math></span><span class=\"katex-html\" aria-hidden=\"true\"><span class=\"strut\" style=\"height:0.61508em;\"></span><span class=\"strut bottom\" style=\"height:0.80952em;vertical-align:-0.19444em;\"></span><span class=\"base textstyle uncramped\"><span class=\"mord mathit\">t</span><span class=\"mord mathit\">a</span><span class=\"mord mathit\" style=\"margin-right:0.03588em;\">g</span></span></span></span>的值为1的概率。</p>\n<p>分四种情况讨论，线段树维护即可。</p>\n<h4 id=\"4-19\"><a href=\"#4-19\" class=\"headerlink\" title=\"4.19\"></a>4.19</h4><p><a href=\"https://codeforces.com/contest/1139/problem/F\" target=\"_blank\" rel=\"noopener\">Codeforces 1139F</a></p>\n<p>傻逼题。</p>\n<p>cerr没注释T了一发...吓得我以为我10w树状数组一只log被卡常了...</p>\n","categories":[],"tags":[{"name":"做题记录","path":"api/tags/做题记录.json"}]}